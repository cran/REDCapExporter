<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Peter DeWitt" />


<title>REDCapExporter</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">REDCapExporter</h1>
<h3 class="subtitle">Building R Data Packages from REDCap Projects</h3>
<h4 class="author">Peter DeWitt</h4>


<div id="TOC">
<ul>
<li><a href="#exporting-a-redcap-project-to-a-r-data-package"><span class="toc-section-number">1</span> Exporting a REDCap Project to a R Data Package</a><ul>
<li><a href="#details-on-exported-files"><span class="toc-section-number">1.1</span> Details on exported Files</a></li>
<li><a href="#using-the-exported-package"><span class="toc-section-number">1.2</span> Using the Exported Package</a></li>
</ul></li>
<li><a href="#session-info"><span class="toc-section-number">2</span> Session Info</a></li>
</ul>
</div>

<p>The purpose of this vignette is to show how to export a REDCap project into a R data package. Please read</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">vignette</span>(<span class="dt">topic =</span> <span class="st">&quot;api&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;REDCapExporter&quot;</span>)</code></pre></div>
<p>for details on using the REDCap API to export the contents of a REDCap project. This vignette will assume you are able to call <code>export_core</code> successfully. For the purpose of this vignette, the data set</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(avs_raw_core, <span class="dt">package =</span> <span class="st">&quot;REDCapExporter&quot;</span>)
<span class="kw">str</span>(avs_raw_core)
## List of 4
##  $ project_raw : 'rcer_raw_project' chr &quot;project_id,project_title,creation_time,production_time,in_production,project_language,purpose,purpose_other,pro&quot;| __truncated__
##   ..- attr(*, &quot;Content-Type&quot;)= Named chr [1:2] &quot;text/csv&quot; &quot;utf-8&quot;
##   .. ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;&quot; &quot;charset&quot;
##   ..- attr(*, &quot;accessed&quot;)= POSIXct[1:1], format: &quot;2019-12-17 12:42:21&quot;
##  $ metadata_raw: 'rcer_raw_metadata' chr &quot;field_name,form_name,section_header,field_type,field_label,select_choices_or_calculations,field_note,text_valid&quot;| __truncated__
##   ..- attr(*, &quot;Content-Type&quot;)= Named chr [1:2] &quot;text/csv&quot; &quot;utf-8&quot;
##   .. ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;&quot; &quot;charset&quot;
##   ..- attr(*, &quot;accessed&quot;)= POSIXct[1:1], format: &quot;2019-12-17 12:42:21&quot;
##  $ user_raw    : 'rcer_raw_user' chr &quot;username,email,firstname,lastname,expiration,data_access_group,data_access_group_id,design,user_rights,data_acc&quot;| __truncated__
##   ..- attr(*, &quot;Content-Type&quot;)= Named chr [1:2] &quot;text/csv&quot; &quot;utf-8&quot;
##   .. ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;&quot; &quot;charset&quot;
##   ..- attr(*, &quot;accessed&quot;)= POSIXct[1:1], format: &quot;2019-12-17 12:42:22&quot;
##  $ record_raw  : 'rcer_raw_record' chr &quot;record_id,uniform_number,firstname,lastname,hof,nationality,position,birthdate,height,weight,shoots,catches,exp&quot;| __truncated__
##   ..- attr(*, &quot;Content-Type&quot;)= Named chr [1:2] &quot;text/csv&quot; &quot;utf-8&quot;
##   .. ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;&quot; &quot;charset&quot;
##   ..- attr(*, &quot;accessed&quot;)= POSIXct[1:1], format: &quot;2019-12-17 12:42:22&quot;
##  - attr(*, &quot;class&quot;)= chr &quot;rcer_rccore&quot;</code></pre></div>
<p>is the result of calling <code>export_core</code> to export elements of a REDCap project containing data on the 2000-2001 Stanley Cup Champion Colorado Avalanche.</p>
<div id="exporting-a-redcap-project-to-a-r-data-package" class="section level1">
<h1><span class="header-section-number">1</span> Exporting a REDCap Project to a R Data Package</h1>
<p>Exporting a REDCap project to a R data package is done with a call to <code>build_r_data_package</code>. If the reader passes the uri for the API and an API token a call to <code>export_core</code> will be made. If you prefer, or as in this case, need to have access to the core contents of the REDCap project available, then you may pass the <code>rcer_rccore</code> object to <code>build_r_data_package</code> to build the skeleton of a R data package.</p>
<p>To build the skeleton of a R data package you will need to pass in the core export from the REDCap project, a path for were the source code for the data package will be written, and some some information about the users. In this context, users are the persons who have, or had, access to the REDCap project and are listed under the UserRights section of the REDCap proejct. The user data from REDCap is used to construct the Author section of the DESCRIPTION file for the R data package to be constructed. By default, all users are listed as ‘contributors’. Modification of the roles can be provide by a named list object. In the example below, the user dewittp is going to assigned the creator and author role. To be a valid R package, at least one user will need to have the creator role assigned.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">temppath &lt;-<span class="st"> </span><span class="kw">tempdir</span>()
<span class="kw">build_r_data_package</span>(<span class="dt">x =</span> avs_raw_core,
                     <span class="dt">path =</span> temppath,
                     <span class="dt">author_roles =</span> <span class="kw">list</span>(<span class="dt">dewittp =</span> <span class="kw">c</span>(<span class="st">&quot;cre&quot;</span>, <span class="st">&quot;aut&quot;</span>)))
## Creating source package at /tmp/RtmpUzhN5W/rcd14465
## Updating rcd14465 documentation
## First time using roxygen2. Upgrading automatically...
## Updating roxygen version in /tmp/RtmpUzhN5W/rcd14465/DESCRIPTION
## Writing NAMESPACE
## Loading rcd14465
## Writing project.Rd
## Writing metadata.Rd
## Writing user.Rd
## Writing record.Rd</code></pre></div>
<p>The resulting directory is:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fs<span class="op">::</span><span class="kw">dir_tree</span>(temppath)
## /tmp/RtmpUzhN5W
## ├── callr-env-7f03ec654d9
## └── rcd14465
##     ├── DESCRIPTION
##     ├── LICENSE
##     ├── NAMESPACE
##     ├── R
##     │   └── datasets.R
##     ├── data
##     │   ├── metadata.rda
##     │   ├── project.rda
##     │   ├── record.rda
##     │   └── user.rda
##     ├── inst
##     │   └── raw-data
##     │       ├── metadata.rds
##     │       ├── project.rds
##     │       ├── record.rds
##     │       └── user.rds
##     └── man
##         ├── metadata.Rd
##         ├── project.Rd
##         ├── record.Rd
##         └── user.Rd</code></pre></div>
<div id="details-on-exported-files" class="section level2">
<h2><span class="header-section-number">1.1</span> Details on exported Files</h2>
<p>First, the package directory name. Exported packages from <em>REDCapExporter</em> will have the directory name rcd<package-id>. This name is also used in the DESCRIPTION file.</p>
<p>The DESCRIPTION file is</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">prj_dir &lt;-<span class="st"> </span><span class="kw">list.dirs</span>(temppath)
prj_dir &lt;-<span class="st"> </span>prj_dir[<span class="kw">grepl</span>(<span class="st">&quot;/rcd</span><span class="ch">\\</span><span class="st">d+$&quot;</span>, prj_dir)]
<span class="kw">t</span>(<span class="kw">read.dcf</span>(<span class="kw">paste</span>(prj_dir, <span class="st">&quot;DESCRIPTION&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;/&quot;</span>)))
##                 [,1]                                                                                                                                                                                                                               
## Package         &quot;rcd14465&quot;                                                                                                                                                                                                                         
## Title           &quot;2000-2001 Colorado Avalanche&quot;                                                                                                                                                                                                     
## Version         &quot;2019.12.18.22.14&quot;                                                                                                                                                                                                                 
## Authors@R       &quot;c(person(given = \&quot;Tell\&quot;, family = \&quot;Bennett\&quot;, email = \&quot;tell.bennett@ucdenver.edu\&quot;, role = c(\&quot;ctb\&quot;)),\nperson(given = \&quot;Peter\&quot;, family = \&quot;DeWitt\&quot;, email = \&quot;peter.dewitt@cuanschutz.edu\&quot;, role = c(\&quot;cre\&quot;, \&quot;aut\&quot;)))&quot;
## Description     &quot;Data and documentation from the REDCap Project.&quot;                                                                                                                                                                                  
## License         &quot;file LICENSE&quot;                                                                                                                                                                                                                     
## Encoding        &quot;UTF-8&quot;                                                                                                                                                                                                                            
## LazyData        &quot;true&quot;                                                                                                                                                                                                                             
## Suggests        &quot;knitr&quot;                                                                                                                                                                                                                            
## VignetteBuilder &quot;knitr&quot;                                                                                                                                                                                                                            
## RoxygenNote     &quot;7.0.2&quot;</code></pre></div>
<p>The title comes from the project info recorded in REDCap. The version number is set as the year.month.day.hour.minute of the export. As noted above, the Author field is built from the user data stored in REDCap.</p>
<p>The LICENSE file notes that the package is proprietary and should not be installed or distributed to others who are not authorized to have access to the data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cat</span>(<span class="kw">readLines</span>(<span class="kw">paste</span>(prj_dir[<span class="dv">1</span>], <span class="st">&quot;LICENSE&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;/&quot;</span>)), <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)
## Proprietary
## 
## 
##       Do not distribute to anyone or to machines which are not authorized to hold the data.</code></pre></div>
<p>The raw data exports are stored as .rds files under inst/raw-data so that these files will be available in R sessions after installing the package.</p>
<p>The data directory has data.table versions of the data sets.</p>
<p>The R/datasets.R file provides the documentation for the data sets which can be accessed in an interactive R session.</p>
</div>
<div id="using-the-exported-package" class="section level2">
<h2><span class="header-section-number">1.2</span> Using the Exported Package</h2>
<p>Let’s install the package and explore the contents.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tar_ball &lt;-<span class="st"> </span>devtools<span class="op">::</span><span class="kw">build</span>(<span class="dt">pkg =</span> prj_dir)
##   
   checking <span class="cf">for</span> file ‘<span class="op">/</span>tmp<span class="op">/</span>RtmpUzhN5W<span class="op">/</span>rcd14465<span class="op">/</span>DESCRIPTION’ ...
  
✔  checking <span class="cf">for</span> file ‘<span class="op">/</span>tmp<span class="op">/</span>RtmpUzhN5W<span class="op">/</span>rcd14465<span class="op">/</span>DESCRIPTION’
## 
  
─  preparing ‘rcd14465’<span class="op">:</span>
## 
<span class="st">  </span>
<span class="st">   </span>checking DESCRIPTION meta<span class="op">-</span>information ...
  
✔  checking DESCRIPTION meta<span class="op">-</span>information
## 
  
─  checking <span class="cf">for</span> LF line<span class="op">-</span>endings <span class="cf">in</span> source and make files and shell scripts
## 
  
─  checking <span class="cf">for</span> empty or unneeded directories
## ─  looking to see if a ‘data/datalist’ file should be added
## 
  
     NB<span class="op">:</span><span class="st"> </span>this package now depends on <span class="kw">R</span> (<span class="op">&gt;=</span><span class="st"> </span><span class="dv">3</span>.<span class="fl">5.0</span>)
## 
  
     WARNING<span class="op">:</span><span class="st"> </span>Added dependency on R <span class="op">&gt;=</span><span class="st"> </span><span class="dv">3</span>.<span class="fl">5.0</span> because serialized objects <span class="cf">in</span>  serialize<span class="op">/</span>load version <span class="dv">3</span> cannot be read <span class="cf">in</span> older versions of R.  <span class="kw">File</span>(s) containing such objects<span class="op">:</span><span class="st"> 'rcd14465/data/metadata.rda'</span>  <span class="st">'rcd14465/data/project.rda'</span>  WARNING<span class="op">:</span><span class="st"> </span>Added dependency on R <span class="op">&gt;=</span><span class="st"> </span><span class="dv">3</span>.<span class="fl">5.0</span> because serialized objects <span class="cf">in</span>  serialize<span class="op">/</span>load version <span class="dv">3</span> cannot be read <span class="cf">in</span> older versions of R.  <span class="kw">File</span>(s) containing such objects<span class="op">:</span><span class="st"> 'rcd14465/data/record.rda'</span>  <span class="st">'rcd14465/data/user.rda'</span>  WARNING<span class="op">:</span><span class="st"> </span>Added dependency on R <span class="op">&gt;=</span><span class="st"> </span><span class="dv">3</span>.<span class="fl">5.0</span> because serialized objects <span class="cf">in</span>  serialize<span class="op">/</span>load version <span class="dv">3</span> cannot be read <span class="cf">in</span> older versions of R.  <span class="kw">File</span>(s) containing such objects<span class="op">:</span><span class="st">  'rcd14465/inst/raw-data/metadata.rds'</span>  WARNING<span class="op">:</span><span class="st"> </span>Added dependency on R <span class="op">&gt;=</span><span class="st"> </span><span class="dv">3</span>.<span class="fl">5.0</span> because serialized objects <span class="cf">in</span>  serialize<span class="op">/</span>load version <span class="dv">3</span> cannot be read <span class="cf">in</span> older versions of R.  <span class="kw">File</span>(s) containing such objects<span class="op">:</span><span class="st"> 'rcd14465/inst/raw-data/project.rds'</span>  WARNING<span class="op">:</span><span class="st"> </span>Added dependency on R <span class="op">&gt;=</span><span class="st"> </span><span class="dv">3</span>.<span class="fl">5.0</span> because serialized objects <span class="cf">in</span>  serialize<span class="op">/</span>load version <span class="dv">3</span> cannot be read <span class="cf">in</span> older versions of R.  <span class="kw">File</span>(s) containing such objects<span class="op">:</span><span class="st"> 'rcd14465/inst/raw-data/record.rds'</span>  <span class="st">'rcd14465/inst/raw-data/user.rds'</span>
## 
  
─  building <span class="st">'rcd14465_2019.12.18.22.14.tar.gz'</span>
## 
  
   
## 
tar_ball
## [1] &quot;/tmp/RtmpUzhN5W/rcd14465_2019.12.18.22.14.tar.gz&quot;

<span class="kw">install.packages</span>(<span class="dt">pkgs =</span> tar_ball, <span class="dt">lib =</span> temppath)
## inferring 'repos = NULL' from 'pkgs'</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rcd14465, <span class="dt">lib.loc =</span> temppath)</code></pre></div>
<p>The available data sets:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(<span class="dt">package =</span> <span class="st">&quot;rcd14465&quot;</span>)<span class="op">$</span>results
##      Package    LibPath           Item       Title     
## [1,] &quot;rcd14465&quot; &quot;/tmp/RtmpUzhN5W&quot; &quot;metadata&quot; &quot;Metadata&quot;
## [2,] &quot;rcd14465&quot; &quot;/tmp/RtmpUzhN5W&quot; &quot;project&quot;  &quot;Project&quot; 
## [3,] &quot;rcd14465&quot; &quot;/tmp/RtmpUzhN5W&quot; &quot;record&quot;   &quot;Record&quot;  
## [4,] &quot;rcd14465&quot; &quot;/tmp/RtmpUzhN5W&quot; &quot;user&quot;     &quot;User&quot;</code></pre></div>
<p>A simple data analysis question: how many goals were scored by position?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(data.table)
<span class="kw">as.data.table</span>(record)[, <span class="kw">sum</span>(goals), by =<span class="st"> </span>position]
##      position V1
## 1:       Goal  0
## 2:     Center 93
## 3:    Defence 34
## 4: Right Wing 72
## 5:  Left Wing 71</code></pre></div>
</div>
</div>
<div id="session-info" class="section level1">
<h1><span class="header-section-number">2</span> Session Info</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(<span class="kw">sessionInfo</span>(), <span class="dt">local =</span> <span class="ot">FALSE</span>)
## R version 3.6.2 (2019-12-12)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Ubuntu 18.04.3 LTS
## 
## Matrix products: default
## BLAS:   /usr/lib/x86_64-linux-gnu/openblas/libblas.so.3
## LAPACK: /usr/lib/x86_64-linux-gnu/libopenblasp-r0.2.20.so
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] data.table_1.12.8         rcd14465_2019.12.18.22.14
## [3] REDCapExporter_0.1.0     
## 
## loaded via a namespace (and not attached):
##  [1] Rcpp_1.0.3        compiler_3.6.2    prettyunits_1.0.2 remotes_2.1.0    
##  [5] tools_3.6.2       testthat_2.3.1    digest_0.6.23     pkgbuild_1.0.6   
##  [9] pkgload_1.0.2     lubridate_1.7.4   evaluate_0.14     memoise_1.1.0    
## [13] rlang_0.4.2       rstudioapi_0.10   cli_2.0.0         yaml_2.2.0       
## [17] xfun_0.11         xml2_1.2.2        roxygen2_7.0.2    qwraps2_0.4.2    
## [21] withr_2.1.2       stringr_1.4.0     knitr_1.26        fs_1.3.1         
## [25] desc_1.2.0        devtools_2.2.1    rprojroot_1.3-2   glue_1.3.1       
## [29] R6_2.4.1          processx_3.4.1    fansi_0.4.0       rmarkdown_2.0    
## [33] sessioninfo_1.1.1 purrr_0.3.3       callr_3.4.0       magrittr_1.5     
## [37] usethis_1.5.1     backports_1.1.5   ps_1.3.0          ellipsis_0.3.0   
## [41] htmltools_0.4.0   assertthat_0.2.1  stringi_1.4.3     crayon_1.3.4</code></pre></div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
